"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_react-shared_RefSelector_RefSelector_tsx"],{53290:(e,t,n)=>{n.d(t,{W:()=>SearchIndex,r:()=>r});var r,a=n(44544),i=n(71643);let{getItem:s,setItem:c,removeItem:o}=(0,a.Z)("localStorage",{throwQuotaErrorsOnSet:!0});!function(e){e.Branch="branch",e.Tag="tag"}(r||(r={}));let SearchIndex=class SearchIndex{render(){this.selector.render()}async fetchData(){try{if(!this.isLoading||this.fetchInProgress)return;if(!this.bootstrapFromLocalStorage()){this.fetchInProgress=!0,this.fetchFailed=!1;let e=await fetch(`${this.refEndpoint}?type=${this.refType}`,{headers:{Accept:"application/json"}});await this.processResponse(e)}this.isLoading=!1,this.fetchInProgress=!1,this.render()}catch(e){this.fetchInProgress=!1,this.fetchFailed=!0}}async processResponse(e){if(this.emitStats(e),!e.ok){this.fetchFailed=!0;return}let t=e.clone(),n=await e.json();this.knownItems=n.refs,this.cacheKey=n.cacheKey,this.flushToLocalStorage(await t.text())}emitStats(e){if(!e.ok){(0,i.b)({incrementKey:"REF_SELECTOR_BOOT_FAILED"},!0);return}switch(e.status){case 200:(0,i.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_UNCACHED_HTTP"});break;case 304:(0,i.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_HTTP_CACHE"});break;default:(0,i.b)({incrementKey:"REF_SELECTOR_UNEXPECTED_RESPONSE"})}}search(e){let t;if(this.searchTerm=e,""===e){this.currentSearchResult=this.knownItems;return}let n=[],r=[];for(let a of(this.exactMatchFound=!1,this.knownItems))if(!((t=a.indexOf(e))<0)){if(0===t){e===a?(r.unshift(a),this.exactMatchFound=!0):r.push(a);continue}n.push(a)}this.currentSearchResult=[...r,...n]}bootstrapFromLocalStorage(){let e=s(this.localStorageKey);if(!e)return!1;let t=JSON.parse(e);return t.cacheKey===this.cacheKey&&"refs"in t?(this.knownItems=t.refs,this.isLoading=!1,(0,i.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_LOCALSTORAGE"}),!0):(o(this.localStorageKey),!1)}async flushToLocalStorage(e){try{c(this.localStorageKey,e)}catch(t){if(t.message.toLowerCase().includes("quota")){this.clearSiblingLocalStorage(),(0,i.b)({incrementKey:"REF_SELECTOR_LOCALSTORAGE_OVERFLOWED"});try{c(this.localStorageKey,e)}catch(e){e.message.toLowerCase().includes("quota")&&(0,i.b)({incrementKey:"REF_SELECTOR_LOCALSTORAGE_GAVE_UP"})}}else throw t}}clearSiblingLocalStorage(){for(let e of Object.keys(localStorage))e.startsWith(SearchIndex.LocalStoragePrefix)&&o(e)}get localStorageKey(){return`${SearchIndex.LocalStoragePrefix}:${this.nameWithOwner}:${this.refType}`}constructor(e,t,n,r,a){this.knownItems=[],this.currentSearchResult=[],this.exactMatchFound=!1,this.searchTerm="",this.isLoading=!0,this.fetchInProgress=!1,this.fetchFailed=!1,this.refType=e,this.selector=t,this.refEndpoint=n,this.cacheKey=r,this.nameWithOwner=a}};SearchIndex.LocalStoragePrefix="ref-selector"},45380:(e,t,n)=>{n.d(t,{D:()=>c});var r=n(67294),a=n(78249),i=n(56662);function s(){let e=(0,r.useContext)(i.kb);return e}function c(e,t,n=[]){let c=(0,r.useCallback)(e,n),o=s(),l=(0,r.useRef)(o===i.i$.ClientRender),[h,u]=(0,r.useState)(()=>o===i.i$.ClientRender?c():t),d=(0,r.useCallback)(()=>{u(c)},[c]);return(0,a.g)(()=>{l.current||u(c),l.current=!1},[c,...n]),[h,d]}},59401:(e,t,n)=>{n.d(t,{v:()=>s});var r=n(67294),a=n(53290),i=n(8742);function s(e,t,n,a,i,s){let[h,u]=(0,r.useState)({status:"uninitialized",refs:[],showCreateAction:!1}),d=(0,r.useRef)({render:()=>{u(o(m.current,s))}}),f=(0,r.useRef)({render:()=>{u(o(p.current,s))}}),m=l(()=>c(e,t,n,"branch",d.current)),p=l(()=>c(e,t,n,"tag",f.current));return(0,r.useEffect)(()=>{let r=`${t}/${n}`;m.current.nameWithOwner!==r&&(m.current=c(e,t,n,"branch",d.current)),p.current.nameWithOwner!==r&&(p.current=c(e,t,n,"tag",f.current)),async function(){let e="branch"===a?m.current:p.current;e.render(),await e.fetchData(),e.search(""),e.render()}()},[e,t,n,a,m,p]),(0,r.useEffect)(()=>{let e="branch"===a?m.current:p.current;e.search(i),e.render()},[i,a,m,p]),h}function c(e,t,n,r,s){return new a.W("branch"===r?a.r.Branch:a.r.Tag,s,(0,i.FL)({owner:t,repo:n,action:"refs"}),e,`${t}/${n}`)}function o(e,t){let n=e.fetchFailed?"failed":e.isLoading?"loading":"loaded",r=e.currentSearchResult,i=e.refType===a.r.Branch&&t&&e.searchTerm.length>0&&!e.exactMatchFound;return{status:n,refs:r,showCreateAction:i}}function l(e){let t=(0,r.useRef)();return t.current||(t.current=e()),t}},8742:(e,t,n)=>{n.d(t,{$V:()=>ee,$_:()=>q,BK:()=>ew,By:()=>er,C2:()=>U,C9:()=>w,CY:()=>j,Cv:()=>K,ER:()=>Q,FL:()=>m,GX:()=>s,Gr:()=>a,H7:()=>v,IU:()=>eb,IY:()=>L,J9:()=>W,KL:()=>P,Kl:()=>ey,Mf:()=>i,NS:()=>G,OI:()=>I,P4:()=>T,QD:()=>V,QY:()=>Z,Qi:()=>_,S$:()=>F,SV:()=>k,Sf:()=>z,Ss:()=>ei,U:()=>ea,UY:()=>en,Vr:()=>es,WG:()=>l,ZH:()=>f,_h:()=>eh,a_:()=>et,aw:()=>eg,bN:()=>ef,cN:()=>ex,dQ:()=>p,db:()=>J,fW:()=>ej,gx:()=>o,j6:()=>M,j9:()=>N,jP:()=>E,lr:()=>h,mE:()=>A,mY:()=>c,p1:()=>ep,pt:()=>g,qH:()=>ed,sA:()=>R,sT:()=>ec,t4:()=>b,u_:()=>e$,v2:()=>y,v5:()=>$,v_:()=>eu,w2:()=>O,wu:()=>Y,wy:()=>x,xI:()=>D,xR:()=>X,xv:()=>S,yi:()=>eo,z4:()=>el,zP:()=>d,zf:()=>u,zh:()=>C});var r=n(86283);function a(e,t,n){let a=e(t),i=new URL(a,r.jX.origin||"https://github.com");for(let[e,t]of(a===r.jX.pathname&&(i.search=new URLSearchParams(r.jX.search).toString()),Object.entries(n||{})))null==t?i.searchParams.delete(e):i.searchParams.set(e,t.toString());return i}function i(e,t,n){let r=a(e,t,n);return r.href.replace(r.origin,"")}let s=({searchTerm:e})=>`/search?q=${N(`${e}`)}&type=code`,c=({owner:e,repo:t,searchTerm:n})=>`/search?q=${N(`repo:${e}/${t} ${n}`)}&type=code`,o=()=>"/search",l=()=>"/search/advanced",h=({owner:e})=>`/${N(e)}`,u=({owner:e})=>`/${N(e)}.png?size=80`,d=({owner:e})=>`/users/${N(e)}/hovercard`,f=({userId:e})=>`/hovercards?user_id=${e}`;function m({owner:e,repo:t,action:n}){return n?`/${N(e)}/${N(t)}/${n}`:`/${N(e)}/${N(t)}`}let p=({owner:e,repo:t})=>`/${N(e)}/${N(t)}/branches/check_tag_name_exists`,g=({owner:e,repo:t})=>`/${N(e)}/${N(t)}/tags`,$=({owner:e,repo:t,branch:n})=>`/${N(e)}/${N(t)}/tree/${N(n)}`,y=({owner:e,repo:t})=>`/${N(e)}/${N(t)}/branches`,x=({owner:e,repo:t})=>`/${N(e)}/${N(t)}/invitations`,j=({owner:e,repo:t,branchName:n})=>`/${N(e)}/${N(t)}/settings/branch_protection_rules/new?branch_name=${N(n)}`,w=({owner:e,repo:t,commitish:n,filePath:r,lineNumber:a,plain:i})=>{let s=i?`?plain=${i}`:"",c=a?`#L${a}`:"";return`/${N(e)}/${N(t)}/blob/${N(n)}/${r}${s}${c}`},b=({owner:e,repo:t,commitish:n,filePath:r,lineNumber:a})=>{let i=a?`#L${a}`:"";return`/${N(e)}/${N(t)}/blame/${N(n)}/${r}${i}`};function S({login:e}){return`/users/${N(e)}/dismiss_repository_notice`}function C({repo:e,commitish:t,path:n}){let r=["",e.ownerLogin,e.name,"deferred-metadata",t,n];return r.map(N).join("/")}function L(e){return`/${N(e.ownerLogin)}/${N(e.name)}`}function R(e){return`/${N(e.ownerLogin)}/${N(e.name)}?files=1`}function _({repo:e,commitish:t,action:n,path:r}){let a=["",e.ownerLogin,e.name,n,t];return r&&"/"!==r&&a.push(r),a.map(N).join("/")}let v=({owner:e,repo:t})=>`/${e}/${t}/sidepanel-metadata`;function T(e,t){return`/${e.ownerLogin}/${e.name}/detect_language?filename=${t}`}function N(e){return e.split("/").map(encodeURIComponent).join("/")}let E=({owner:e,repo:t,commitish:n})=>`/${N(e)}/${N(t)}/commit/${n}`,O=({owner:e,repo:t,ref:n,path:r})=>{let a=`/${e}/${t}/commits`;return n?r?`${a}/${n}/${B(r)}`:`${a}/${n}`:a};function k({repo:e,branch:t,path:n,author:r}){let a=[e.ownerLogin,e.name,"commits",t,n].map(N).join("/");return`/${a}?author=${N(r)}`}function F(e,t){return`/${e.ownerLogin}/${e.name}/commit/${t}/status-details`}function I({repo:e,author:t}){let n=[e.ownerLogin,e.name];return`/${n.map(N).join("/")}/commits?author=${N(t)}`}let Z=({owner:e,repo:t,commitish:n})=>`/${N(`${e}/${t}/commit/${n}/hovercard`)}`,P=({topicName:e})=>`/topics/${e}`,D=({topicName:e})=>`/topics/${e}/star`,z=({topicName:e})=>`/topics/${e}/unstar`,A=({categoryName:e})=>`/marketplace/category/${H(e)}`,W=({slug:e})=>`/marketplace/actions/${N(e)}`,K=({owner:e,repo:t,commitish:n,filePath:r})=>`/${e}/${t}/codeowners-validity/${n}/${r}`;function B(e){return e.startsWith("/")?e.slice(1):e}function H(e){return e.replace(/[^a-zA-Z0-9]/g,"-").toLowerCase()}function U(e){return e.split("/").slice(0,-1).join("/")}function V({repo:e,baseUrl:t="",branch:n,filter:r,pagination:a}){let i=[e.ownerLogin,e.name,"activity"],s=[];return n&&s.push(`ref=${N(n)}`),r&&(s.push(`activity_type=${N(r.activityType)}`),r.actor&&s.push(`actor=${N(r.actor.login)}`),s.push(`time_period=${N(r.timePeriod)}`),s.push(`sort=${N(r.sort)}`)),a&&(a.cursor&&s.push(`cursor=${N(a.cursor)}`),a.page&&s.push(`page=${a.page}`)),`${t}/${i.map(N).join("/")}${s.length>0?`?${s.join("&")}`:""}`}function Q({repo:e,baseUrl:t=""}){let n=[e.ownerLogin,e.name,"activity","actors"];return`${t}/${n.map(N).join("/")}`}function G(){return"insights/actors"}function M({repo:e,base:t,head:n}){let r=[e.ownerLogin,e.name,"compare"].map(N).join("/"),a=`${N(t)}...${N(n)}`;return`/${r}/${a}`}function q({repo:e,base:t,head:n}){let r=[e.ownerLogin,e.name,"branches","pre_mergeable"].map(N).join("/"),a=`${N(t)}...${N(n)}`;return`/${r}/${a}`}function Y({repo:e,refName:t}){return`/${[e.ownerLogin,e.name,"pull","new",t].map(N).join("/")}`}function X({repo:e,number:t}){return`/${[e.ownerLogin,e.name,"pull",t.toString()].map(N).join("/")}`}function J({repo:e,refName:t,discard:n}){return`/${[e.ownerLogin,e.name,"branches","fetch_and_merge",t].map(N).join("/")}${n?"?discard_changes=true":""}`}function ee(e,t,n){let r=[e,t,"repos","code_nav_survey"];return n&&r.push(n),`/${r.map(N).join("/")}`}function et({repo:e,commitOid:t,includeDirectories:n=!1}){let r=`/${[e.ownerLogin,e.name,"tree-list",t].map(N).join("/")}`;return n?`${r}?include_directories=${n}`:r}function en({repo:e,type:t,q:n,language:r,row:a,column:i,ref:s,path:c,codeNavContext:o}){let l=[e.ownerLogin,e.name].map(N).join("/");return`/${l}/find-react-${t}?q=${encodeURIComponent(n)}&language=${encodeURIComponent(r)}&row=${a}&col=${i}&ref=${s}&blob_path=${encodeURIComponent(c)}&code_nav_context=${encodeURIComponent(o)}`}let er=({owner:e,repo:t,issueNumber:n})=>`/${N(e)}/${N(t)}/issues/${n}`,ea=({owner:e,repo:t,issueNumber:n})=>`/${N(e)}/${N(t)}/issues/${n}/hovercard`,ei=({login:e})=>`/users/${N(e)}/feature_previews`;function es(e,t,n){let r=em(e,"/",4),a=e.substring(r);return a===`/${t}`?"":a.startsWith(`/${t}/`)?a.substring(t.length+2):n}function ec(e,t){return`/${N(e)}/${N(t)}/security/secret-scanning`}let eo=({owner:e,repo:t,id:n})=>`/${N(e)}/${N(t)}/security/secret-scanning/${n}/timeline-react`,el=({owner:e,repo:t,id:n,page:r})=>`/${N(e)}/${N(t)}/security/secret-scanning/${n}/locations-react?page=${r}`;function eh(e,t){return`/${N(e)}/${N(t)}/security/secret-scanning/resolve`}function eu(e,t,n=null){return null===n?`/organizations/${N(t)}/settings/security_analysis/custom_patterns/${e}`:`/${N(t)}/${N(n)}/settings/security_analysis/custom_patterns/${e}`}function ed(){return"https://github.com/community/community/discussions/categories/code-security"}let ef=({notice:e})=>`/settings/dismiss-notice/${e}`;function em(e,t,n){return e.split(t,n).join(t).length}let ep=e=>`/${N(`${e.ownerLogin}/${e.name}`)}/settings/transfer`,eg=()=>"/repositories/check-name",e$=e=>`/${N(`${e.ownerLogin}/${e.name}`)}/settings/transfer`,ey=e=>`/${N(`${e.ownerLogin}/${e.name}`)}/settings/abort_transfer`,ex=()=>"/new/import",ej=e=>{let t="/users/placeholder/organizations_info";return e&&(t+=`?owner=${e}`),t},ew=e=>`/${N(e.ownerLogin)}/${N(e.name)}/graphs/contributors`,eb=e=>`/${N(e.ownerLogin)}/${N(e.name)}/settings/access`},26270:(e,t,n)=>{n.d(t,{H:()=>h});var r,a,i,s=n(85893),c=n(61296),o=n(67294),l=n(78720);function h({items:e,itemHeight:t,sx:n,renderItem:r,makeKey:a}){let i=(0,o.useRef)(null),c=(0,o.useCallback)(()=>t,[t]),h=(0,l.o)({parentRef:i,size:e.length,estimateSize:c});return(0,s.jsx)(u,{ref:i,sx:n,virtualizer:h,children:h.virtualItems.map(t=>(0,s.jsx)(d,{virtualRow:t,children:r(e[t.index])},a(e[t.index])))})}let u=o.forwardRef(function({children:e,sx:t,virtualizer:n},r){return(0,s.jsx)(c.Z,{ref:r,sx:t,children:(0,s.jsx)(c.Z,{sx:{height:n.totalSize,width:"100%",position:"relative"},children:e})})});function d({children:e,virtualRow:t}){return(0,s.jsx)(c.Z,{sx:{position:"absolute",top:0,left:0,width:"100%",height:`${t.size}px`,transform:`translateY(${t.start}px)`},children:e})}try{(r=h).displayName||(r.displayName="FixedSizeVirtualList")}catch{}try{(a=VirtualListContainerInner).displayName||(a.displayName="VirtualListContainerInner")}catch{}try{(i=d).displayName||(i.displayName="ItemContainer")}catch{}},65657:(e,t,n)=>{n.d(t,{h:()=>c});var r,a=n(85893),i=n(61296);function s(e,t){if(!t)return[e];let n=e.toLowerCase().split(t.toLowerCase());if(n.length<2)return[e];let r=0,a=[];for(let i of n)a.push(e.substring(r,r+i.length)),r+=i.length,a.push(e.substring(r,r+t.length)),r+=t.length;return a}function c({text:e,search:t,hideOverflow:n=!1,overflowWidth:r=0}){let c=s(e,t),o=c.map((e,t)=>t%2==1?(0,a.jsx)("strong",{className:"color-fg-default",children:e},t):e),l=r?`${r}px`:void 0;return(0,a.jsx)(i.Z,{sx:{maxWidth:l,overflow:n?"hidden":"visible",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"fg.muted"},children:o})}try{(r=c).displayName||(r.displayName="HighlightedText")}catch{}},45290:(e,t,n)=>{n.d(t,{ox:()=>ec,cq:()=>ei,li:()=>es,Z7:()=>ea});var r,a,i,s,c,o,l,h,u,d,f,m,p,g,$,y,x=n(85893),j=n(31147),w=n(78912),b=n(51461),S=n(67294),C=n(85529),L=n(61296),R=n(10936),_=n(63625),v=n(50901),T=n(83460),N=n(19338),E=n(86283),O=n(12470),k=n(73935),F=n(45380);function I({isOpen:e,onDismiss:t,onConfirm:n}){let[r]=(0,F.D)(()=>document.body,null,[E.n4?.body]);return r?(0,k.createPortal)((0,x.jsxs)(O.Z,{isOpen:e,onDismiss:t,children:[(0,x.jsx)(O.Z.Header,{children:"Create branch"}),(0,x.jsxs)(L.Z,{sx:{p:3},children:[(0,x.jsx)(_.Z,{children:"A tag already exists with the provided branch name. Many Git commands accept both tag and branch names, so creating this branch may cause unexpected behavior. Are you sure you want to create this branch?"}),(0,x.jsxs)(L.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:[(0,x.jsx)(w.z,{onClick:t,children:"Cancel"}),(0,x.jsx)(w.z,{variant:"danger",onClick:n,sx:{ml:2},children:"Create"})]})]})]}),document.body):null}try{(r=I).displayName||(r.displayName="CheckTagNameDialog")}catch{}var Z=n(8742),P=n(89445);async function D(e,t){let n=new FormData;n.set("value",t);let r=await (0,P.Q)(e,{method:"POST",body:n,headers:{Accept:"application/json"}});return!!r.ok&&!!await r.text()}async function z(e,t,n){let r=new FormData;r.set("name",t),r.set("branch",n);let a=await (0,P.Q)(e,{method:"POST",body:r,headers:{Accept:"application/json"}});if(a.ok)return{success:!0};try{let{error:e}=await a.json();if(e)return{success:!1,error:e};throw Error("Unknown response from create branch API")}catch{return{success:!1,error:"Something went wrong."}}}var A=n(26270),W=n(71067),K=n(63309),B=n(65657);let H=S.memo(function({isCurrent:e,isDefault:t,href:n,gitRef:r,filterText:a,onSelect:i,onClick:s}){let c=(0,x.jsx)(U,{gitRef:r,isDefault:t,isCurrent:e,filterText:a}),o={"aria-checked":e,sx:{minWidth:0},onSelect:()=>i?.(r),onClick:()=>s?.(r)};return n?(0,x.jsx)(v.S.LinkItem,{href:n,role:"menuitemradio",...o,children:c}):(0,x.jsx)(v.S.Item,{...o,children:c})}),U=S.memo(function({isCurrent:e,isDefault:t,gitRef:n,filterText:r,showLeadingVisual:a=!0}){return(0,x.jsxs)(L.Z,{style:{display:"flex",justifyContent:"space-between"},children:[(0,x.jsxs)(L.Z,{style:{display:"flex",minWidth:0,alignItems:"flex-end"},children:[a&&(0,x.jsx)(W.Z,{icon:C.nQG,"aria-hidden":!0,sx:{pr:1,visibility:e?void 0:"hidden"}}),(0,x.jsx)(B.h,{hideOverflow:!0,search:r,text:n},n)]}),t&&(0,x.jsx)(K.Z,{children:"default"})]})});try{(a=H).displayName||(a.displayName="RefItem")}catch{}try{(i=U).displayName||(i.displayName="RefItemContent")}catch{}function V(e){return e.refs.length>20?(0,x.jsx)(G,{...e}):(0,x.jsx)(Q,{...e})}function Q({refs:e,defaultBranch:t,currentCommitish:n,getHref:r,filterText:a,onSelectItem:i,onClickItem:s}){return(0,x.jsx)(L.Z,{sx:{maxHeight:330,overflowY:"auto"},children:e.map(e=>(0,x.jsx)(H,{href:r?.(e),isCurrent:n===e,isDefault:t===e,filterText:a,gitRef:e,onSelect:i,onClick:s},e))})}function G({refs:e,defaultBranch:t,currentCommitish:n,getHref:r,filterText:a,onSelectItem:i,onClickItem:s}){return(0,x.jsx)(A.H,{items:e,itemHeight:32,sx:{maxHeight:330,overflowY:"auto"},makeKey:e=>e,renderItem:e=>(0,x.jsx)(H,{href:r?.(e),isCurrent:n===e,isDefault:t===e,filterText:a,gitRef:e,onSelect:i,onClick:s},e)})}try{(s=V).displayName||(s.displayName="RefsList")}catch{}try{(c=Q).displayName||(c.displayName="FullRefsList")}catch{}try{(o=G).displayName||(o.displayName="VirtualRefsList")}catch{}var M=n(59401);function q(e){let{cacheKey:t,owner:n,repo:r,canCreate:a,types:i,hotKey:s,onOpenChange:c,size:o,getHref:l,onBeforeCreate:h,onRefTypeChanged:u,currentCommitish:d,onCreateError:f,selectedRefType:m}=e,[p,g]=(0,S.useState)(""),[$,y]=(0,S.useState)(!1),[j,w]=(0,S.useState)(m??(i??ea)[0]),b=(0,M.v)(t,n,r,j,p,a),v=(0,Z.FL)({owner:n,repo:r,action:"branches"}),T=(0,Z.dQ)({owner:n,repo:r}),N=(0,S.useCallback)(async()=>{h?.(p);let e=await z(v,p,d);e.success?l&&(window.location.href=l(p)):f?.(e.error)},[h,p,d,v,l,f]),E=(0,S.useCallback)(async()=>{if(await D(T,p)){y(!0);return}y(!1),N()},[T,p,N,y]),O=(0,S.useCallback)(e=>{w(e),u?.(e)},[w,u]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(L.Z,{children:[(0,x.jsxs)(R.P,{onOpenChange:c,children:[(0,x.jsx)(R.P.Button,{"data-hotkey":s,size:o,sx:{"> span":{minWidth:0},svg:{color:"fg.muted"}},children:(0,x.jsxs)(L.Z,{sx:{display:"flex"},children:[(0,x.jsx)(L.Z,{sx:{mr:1,color:"fg.muted"},children:"tag"===j?(0,x.jsx)(C.lO_,{size:"small"}):(0,x.jsx)(C.fnQ,{size:"small"})}),(0,x.jsx)(L.Z,{sx:{fontSize:1,maxWidth:125,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(0,x.jsxs)(_.Z,{sx:{minWidth:0},children:["\xa0",e.currentCommitish]})})]})}),(0,x.jsx)(R.P.Overlay,{width:"medium",children:(0,x.jsx)(Y,{filterText:p,onFilterChange:g,refType:j,selectedRefType:j,onRefTypeChange:O,refsState:b,onCreateError:e.onCreateError,showTagWarningDialog:$,setShowTagWarningDialog:y,onCreateBranch:E,...e})})]}),(0,x.jsx)(I,{isOpen:$,onDismiss:()=>y(!1),onConfirm:N})]})})}function Y({canCreate:e,currentCommitish:t,defaultBranch:n,filterText:r,getHref:a,hideShowAll:i,onSelectItem:s,onFilterChange:c,onRefTypeChange:o,owner:l,selectedRefType:h,refsState:u,refType:d,renderCustomFooter:f,repo:m,types:p,onCreateBranch:g,onClickItem:$}){let{refs:y,showCreateAction:j,status:w}=u;return(0,x.jsxs)(v.S,{showDividers:!0,children:[(0,x.jsx)(X,{defaultText:r,refType:d,canCreate:e,onFilterChange:c,types:p??ea}),(0,x.jsx)(v.S.Divider,{}),(p??ea).length>1&&(0,x.jsx)(es,{refType:d,onRefTypeChanged:o}),"loading"===w||"uninitialized"===w?(0,x.jsx)(ee,{refType:d}):"failed"===w?(0,x.jsx)(ec,{refType:d}):0!==y.length||j?(0,x.jsx)(V,{filterText:r,refs:y,defaultBranch:"branch"===d?n:"",currentCommitish:d===h?t:"",getHref:a,onSelectItem:e=>s?.(e,d),onClickItem:e=>$?.(e,d)}):(0,x.jsx)(et,{}),(j||!i||f)&&(0,x.jsx)(v.S.Divider,{sx:{marginTop:0}}),j&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(er,{currentCommitish:t,newRefName:r,onCreateBranch:g}),(0,x.jsx)(v.S.Divider,{})]}),!i&&(0,x.jsx)(en,{refType:d,owner:l,repo:m}),f?.()]})}function X({refType:e,canCreate:t,onFilterChange:n,defaultText:r,types:a}){return(0,x.jsxs)(v.S.Group,{sx:{px:2},children:[(0,x.jsx)(L.Z,{sx:{mb:1,pl:"12px",fontWeight:600},children:J(a)}),(0,x.jsx)(T.Z,{value:r,sx:{width:"100%"},placeholder:"tag"===e?"Find a tag...":t?"Find or create a branch...":"Find a branch...",onInput:e=>{let t=e.target;t instanceof HTMLInputElement&&n(t.value)}})]})}function J(e){return e.includes("branch")&&e.includes("tag")?"Switch branches/tags":e.includes("branch")?"Switch branches":e.includes("tag")?"Switch tags":void 0}function ee({refType:e}){return(0,x.jsx)(L.Z,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,x.jsx)(N.Z,{size:"medium","aria-label":`Loading ${"branch"===e?"branches":"tags"}...`})})}function et(){return(0,x.jsx)(L.Z,{sx:{p:3,display:"flex",justifyContent:"center"},children:"Nothing to show"})}function en({refType:e,owner:t,repo:n}){let r="branch"===e?"branches":"tags";return(0,x.jsx)(v.S.LinkItem,{href:(0,Z.FL)({owner:t,repo:n,action:r}),children:(0,x.jsxs)(L.Z,{sx:{display:"flex",justifyContent:"center"},children:["View all ",r]})})}function er({currentCommitish:e,newRefName:t,onCreateBranch:n}){return(0,x.jsxs)(v.S.Item,{onSelect:n,children:[(0,x.jsx)(C.fnQ,{}),(0,x.jsx)(_.Z,{sx:{fontWeight:600,ml:2},children:"Create branch:\xa0"}),(0,x.jsx)(_.Z,{sx:{fontWeight:600,fontFamily:"monospace"},children:t}),(0,x.jsxs)(_.Z,{children:["\xa0from \u2018",e,"\u2019"]})]})}try{(l=q).displayName||(l.displayName="RefSelectorV1")}catch{}try{(h=Y).displayName||(h.displayName="RefSelectorActionList")}catch{}try{(u=X).displayName||(u.displayName="RefTextFilter")}catch{}try{(d=ee).displayName||(d.displayName="Loading")}catch{}try{(f=et).displayName||(f.displayName="RefsZeroState")}catch{}try{(m=en).displayName||(m.displayName="ViewAllRefsAction")}catch{}try{(p=er).displayName||(p.displayName="CreateRefAction")}catch{}let ea=["branch","tag"];function ei(e){return(0,x.jsx)(q,{...e})}function es({refType:e,onRefTypeChanged:t}){return(0,x.jsxs)(j.Z,{sx:{pl:2},"aria-label":"ref type",children:[(0,x.jsx)(j.Z.Link,{as:w.z,id:"branch-button","aria-controls":"branches",selected:"branch"===e,onClick:()=>t("branch"),sx:{borderBottomRightRadius:0,borderBottomLeftRadius:0},children:"Branches"}),(0,x.jsx)(j.Z.Link,{as:w.z,id:"tag-button","aria-controls":"tags",selected:"tag"===e,onClick:()=>t("tag"),sx:{borderBottomRightRadius:0,borderBottomLeftRadius:0},children:"Tags"})]})}function ec({refType:e}){return(0,x.jsxs)(b.Z,{variant:"danger",children:["Could not load ","branch"===e?"branches":"tags"]})}try{(g=ei).displayName||(g.displayName="RefSelector")}catch{}try{($=es).displayName||($.displayName="RefTypeTabs")}catch{}try{(y=ec).displayName||(y.displayName="LoadingFailed")}catch{}},89445:(e,t,n)=>{function r(e,t={}){if(e.match(/^https?:/))throw Error("Can not make cross-origin requests from verifiedFetch");let n={...t.headers,"GitHub-Verified-Fetch":"true","X-Requested-With":"XMLHttpRequest"};return fetch(e,{...t,headers:n})}function a(e,t){let n=t?.headers??{},a={...n,Accept:"application/json","Content-Type":"application/json"},i=t?.body?JSON.stringify(t.body):void 0;return r(e,{...t,body:i,headers:a})}n.d(t,{Q:()=>r,v:()=>a})}}]);
//# sourceMappingURL=app_assets_modules_react-shared_RefSelector_RefSelector_tsx-7aec4229d2e2.js.map